/*==============================================================*/
/* DBMS name:      MySQL 5.0                                    */
/* Created on:     15-Sep-21 5:23:44 PM                         */
/*==============================================================*/


alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_KARTON;

alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_DIJAGNOZ;

alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_RADNIK;

alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_SOBA;

alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_PACIJENT;

alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_ADRESA;

alter table LECENJE 
   drop foreign key FK_LECENJE_RELATIONS_KARTON;

alter table LECENJE 
   drop foreign key FK_LECENJE_RELATIONS_TERAPIJA;

alter table OTPUST 
   drop foreign key FK_OTPUST_RELATIONS_KARTON;

alter table OTPUST 
   drop foreign key FK_OTPUST_RELATIONS_RADNIK;

alter table PACIJENT 
   drop foreign key FK_PACIJENT_RELATIONS_KARTON;

alter table PRIJEM 
   drop foreign key FK_PRIJEM_RELATIONS_KARTON;

alter table PRIJEM 
   drop foreign key FK_PRIJEM_RELATIONS_RADNIK;

alter table PRISTUP 
   drop foreign key FK_PRISTUP_RELATIONS_RADNIK;

alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_ODELJENJ;

alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_ADRESA;

alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_PRISTUP;

alter table SOBA 
   drop foreign key FK_SOBA_RELATIONS_ODELJENJ;

alter table SPISAK_DIJAGNOZA 
   drop foreign key FK_SPISAK_D_RELATIONS_DIJAGNOZ;

alter table SPISAK_DIJAGNOZA 
   drop foreign key FK_SPISAK_D_RELATIONS_KARTON;

alter table TERAPIJA 
   drop foreign key FK_TERAPIJA_RELATIONS_LEK;

alter table TERAPIJA 
   drop foreign key FK_TERAPIJA_RELATIONS_RADNIK;

drop table if exists ADRESA;


alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_RADNIK;

alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_KARTON;

alter table ANALIZA 
   drop foreign key FK_ANALIZA_RELATIONS_DIJAGNOZ;

drop table if exists ANALIZA;

drop table if exists DIJAGNOZA;


alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_SOBA;

alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_PACIJENT;

alter table KARTON 
   drop foreign key FK_KARTON_RELATIONS_ADRESA;

drop table if exists KARTON;


alter table LECENJE 
   drop foreign key FK_LECENJE_RELATIONS_KARTON;

alter table LECENJE 
   drop foreign key FK_LECENJE_RELATIONS_TERAPIJA;

drop table if exists LECENJE;

drop table if exists LEK;

drop table if exists ODELJENJE;


alter table OTPUST 
   drop foreign key FK_OTPUST_RELATIONS_KARTON;

alter table OTPUST 
   drop foreign key FK_OTPUST_RELATIONS_RADNIK;

drop table if exists OTPUST;


alter table PACIJENT 
   drop foreign key FK_PACIJENT_RELATIONS_KARTON;

drop table if exists PACIJENT;


alter table PRIJEM 
   drop foreign key FK_PRIJEM_RELATIONS_KARTON;

alter table PRIJEM 
   drop foreign key FK_PRIJEM_RELATIONS_RADNIK;

drop table if exists PRIJEM;


alter table PRISTUP 
   drop foreign key FK_PRISTUP_RELATIONS_RADNIK;

drop table if exists PRISTUP;


alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_ODELJENJ;

alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_ADRESA;

alter table RADNIK 
   drop foreign key FK_RADNIK_RELATIONS_PRISTUP;

drop table if exists RADNIK;


alter table SOBA 
   drop foreign key FK_SOBA_RELATIONS_ODELJENJ;

drop table if exists SOBA;


alter table SPISAK_DIJAGNOZA 
   drop foreign key FK_SPISAK_D_RELATIONS_DIJAGNOZ;

alter table SPISAK_DIJAGNOZA 
   drop foreign key FK_SPISAK_D_RELATIONS_KARTON;

drop table if exists SPISAK_DIJAGNOZA;


alter table TERAPIJA 
   drop foreign key FK_TERAPIJA_RELATIONS_LEK;

alter table TERAPIJA 
   drop foreign key FK_TERAPIJA_RELATIONS_RADNIK;

drop table if exists TERAPIJA;

/*==============================================================*/
/* Table: ADRESA                                                */
/*==============================================================*/
create table ADRESA
(
   IDADRESA             int not null auto_increment  comment '',
   GRAD                 varchar(30) not null  comment '',
   ULICA                varchar(30) not null  comment '',
   BROJ                 varchar(5) not null  comment '',
   POSTANSKIBROJ        varchar(5)  comment '',
   primary key (IDADRESA)
)


/*==============================================================*/
/* Table: ANALIZA                                               */
/*==============================================================*/
create table ANALIZA
(
   IDANALIZA            int not null auto_increment  comment '',
   IDDIJAGNOZA          int not null  comment '',
   IDRADNIK             int not null  comment '',
   IDKARTON             int not null  comment '',
   NAZIV_ANALIZA        varchar(30)  comment '',
   UZORAK               varchar(30)  comment '',
   VREDNOST             int  comment '',
   OPIS                 text not null  comment '',
   DATUM_ANALIZA        date not null  comment '',
   ANAMNEZA             char(10)  comment '',
   ZAKLJUCAK            char(10)  comment '',
   primary key (IDANALIZA)
)


/*==============================================================*/
/* Table: DIJAGNOZA                                             */
/*==============================================================*/
create table DIJAGNOZA
(
   IDDIJAGNOZA          int not null auto_increment  comment '',
   NAZIVDIJAGNOZA       varchar(30) not null  comment '',
   SIFRADIJAGNOZA       varchar(10) not null  comment '',
   OPISDIJAGNOZA        text not null  comment '',
   primary key (IDDIJAGNOZA)
)


/*==============================================================*/
/* Table: KARTON                                                */
/*==============================================================*/
create table KARTON
(
   IDKARTON             int not null auto_increment  comment '',
   IDPACIJENT           int not null  comment '',
   IDSOBA               int not null  comment '',
   IDADRESA             int  comment '',
   VAKCINISAN           bool not null  comment '',
   ALERGIJE             text not null  comment '',
   KRVNAGRUPA           varchar(2) not null  comment '',
   STATUSPACIJENTA      varchar(20) not null  comment '',
   TEST                 varchar(20) not null  comment '',
   primary key (IDKARTON)
)


/*==============================================================*/
/* Table: LECENJE                                               */
/*==============================================================*/
create table LECENJE
(
   IDKARTON             int not null  comment '',
   IDTERAPIJA           int not null  comment '',
   IDTEHNICAR           int  comment '',
   LECENJEID            int  comment '',
   primary key (IDKARTON, IDTERAPIJA)
)


/*==============================================================*/
/* Table: LEK                                                   */
/*==============================================================*/
create table LEK
(
   IDLEK                int not null auto_increment  comment '',
   NAZIVLEK             varchar(30) not null  comment '',
   JEDMERELEK           varchar(10) not null  comment '',
   KOLICINALEK          int not null  comment '',
   SUPSTANCA            text not null  comment '',
   TIPLEKA              varchar(50) not null  comment '',
   OBLIK                varchar(16) not null  comment '',
   primary key (IDLEK)
);

/*==============================================================*/
/* Table: ODELJENJE                                             */
/*==============================================================*/
create table ODELJENJE
(
   IDODELJENJE          int not null auto_increment  comment '',
   NAZIVODELJENJE       varchar(30) not null  comment '',
   GLAVNILEKAR          int not null  comment '',
   UKUPNOSOBA           int  comment '',
   primary key (IDODELJENJE)
)


/*==============================================================*/
/* Table: OTPUST                                                */
/*==============================================================*/
create table OTPUST
(
   IDOTPUST             int not null auto_increment  comment '',
   IDRADNIK             int  comment '',
   IDKARTON             int not null  comment '',
   DATUM_OTPUST         date not null  comment '',
   OTPUST_NAPOMENA      text  comment '',
   primary key (IDOTPUST)
)


/*==============================================================*/
/* Table: PACIJENT                                              */
/*==============================================================*/
create table PACIJENT
(
   IDPACIJENT           int not null auto_increment  comment '',
   IDKARTON             int  comment '',
   IMEPACIJENT          varchar(30) not null  comment '',
   PREZIMEPACIJENT      varchar(30) not null  comment '',
   JMBG                 char(13) not null  comment '',
   LBO                  int not null  comment '',
   POL                  varchar(10) not null  comment '',
   BROJTELEFONA         varchar(15) not null  comment '',
   primary key (IDPACIJENT)
)


/*==============================================================*/
/* Table: PRIJEM                                                */
/*==============================================================*/
create table PRIJEM
(
   IDPRIJEM             int not null auto_increment  comment '',
   IDKARTON             int not null  comment '',
   IDRADNIK             int  comment '',
   DATUM_PRIJEM         date  comment '',
   STATUS_PRIJEM        char(10)  comment '',
   primary key (IDPRIJEM)
)


/*==============================================================*/
/* Table: PRISTUP                                               */
/*==============================================================*/
create table PRISTUP
(
   IDPRISTUP            int not null auto_increment  comment '',
   IDRADNIK             int not null  comment '',
   KORISNICKOIME        varchar(16) not null  comment '',
   LOZINKA              varchar(16) not null  comment '',
   STATUS               varchar(16) not null  comment '',
   primary key (IDPRISTUP)
)


/*==============================================================*/
/* Table: RADNIK                                                */
/*==============================================================*/
create table RADNIK
(
   IDRADNIK             int not null auto_increment  comment '',
   IDODELJENJE          int  comment '',
   IDADRESA             int  comment '',
   IDPRISTUP            int  comment '',
   IMERADNIK            varchar(30) not null  comment '',
   PREZIMERADNIK        varchar(30) not null  comment '',
   SPEC                 varchar(30) not null  comment '',
   DAT_ZAP              date not null  comment '',
   POZICIJA             varchar(10) not null  comment '',
   primary key (IDRADNIK)
)


/*==============================================================*/
/* Table: SOBA                                                  */
/*==============================================================*/
create table SOBA
(
   IDSOBA               int not null auto_increment  comment '',
   IDODELJENJE          int not null  comment '',
   BROJSOBA             int not null  comment '',
   KREVET               char(10)  comment '',
   primary key (IDSOBA)
)


/*==============================================================*/
/* Table: SPISAK_DIJAGNOZA                                      */
/*==============================================================*/
create table SPISAK_DIJAGNOZA
(
   IDDIJAGNOZA          int not null  comment '',
   IDKARTON             int not null  comment '',
   DATUM_DIJAGNOSTIKE   date  comment '',
   DATUM_IZLECENJA      date  comment '',
   TIP                  char(10)  comment '',
   primary key (IDDIJAGNOZA, IDKARTON)
)


/*==============================================================*/
/* Table: TERAPIJA                                              */
/*==============================================================*/
create table TERAPIJA
(
   IDTERAPIJA           int not null auto_increment  comment '',
   IDLEK                int  comment '',
   IDRADNIK             int  comment '',
   DOZA                 varchar(20) not null  comment '',
   DATUM_TERAPIJA       date not null  comment '',
   APLIKOVANJE          varchar(20) not null  comment '',
   PERIOD               varchar(20) not null  comment '',
   NADAN                char(10)  comment '',
   NAPOMENA             char(10)  comment '',
   primary key (IDTERAPIJA)
)


alter table ANALIZA add constraint FK_ANALIZA_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table ANALIZA add constraint FK_ANALIZA_RELATIONS_DIJAGNOZ foreign key (IDDIJAGNOZA)
      references DIJAGNOZA (IDDIJAGNOZA) on delete restrict on update restrict;

alter table ANALIZA add constraint FK_ANALIZA_RELATIONS_RADNIK foreign key (IDRADNIK)
      references RADNIK (IDRADNIK) on delete restrict on update restrict;

alter table KARTON add constraint FK_KARTON_RELATIONS_SOBA foreign key (IDSOBA)
      references SOBA (IDSOBA) on delete restrict on update restrict;

alter table KARTON add constraint FK_KARTON_RELATIONS_PACIJENT foreign key (IDPACIJENT)
      references PACIJENT (IDPACIJENT) on delete restrict on update restrict;

alter table KARTON add constraint FK_KARTON_RELATIONS_ADRESA foreign key (IDADRESA)
      references ADRESA (IDADRESA) on delete restrict on update restrict;

alter table LECENJE add constraint FK_LECENJE_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table LECENJE add constraint FK_LECENJE_RELATIONS_TERAPIJA foreign key (IDTERAPIJA)
      references TERAPIJA (IDTERAPIJA) on delete restrict on update restrict;

alter table OTPUST add constraint FK_OTPUST_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table OTPUST add constraint FK_OTPUST_RELATIONS_RADNIK foreign key (IDRADNIK)
      references RADNIK (IDRADNIK) on delete restrict on update restrict;

alter table PACIJENT add constraint FK_PACIJENT_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table PRIJEM add constraint FK_PRIJEM_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table PRIJEM add constraint FK_PRIJEM_RELATIONS_RADNIK foreign key (IDRADNIK)
      references RADNIK (IDRADNIK) on delete restrict on update restrict;

alter table PRISTUP add constraint FK_PRISTUP_RELATIONS_RADNIK foreign key (IDRADNIK)
      references RADNIK (IDRADNIK) on delete restrict on update restrict;

alter table RADNIK add constraint FK_RADNIK_RELATIONS_ODELJENJ foreign key (IDODELJENJE)
      references ODELJENJE (IDODELJENJE) on delete restrict on update restrict;

alter table RADNIK add constraint FK_RADNIK_RELATIONS_ADRESA foreign key (IDADRESA)
      references ADRESA (IDADRESA) on delete restrict on update restrict;

alter table RADNIK add constraint FK_RADNIK_RELATIONS_PRISTUP foreign key (IDPRISTUP)
      references PRISTUP (IDPRISTUP) on delete restrict on update restrict;

alter table SOBA add constraint FK_SOBA_RELATIONS_ODELJENJ foreign key (IDODELJENJE)
      references ODELJENJE (IDODELJENJE) on delete restrict on update restrict;

alter table SPISAK_DIJAGNOZA add constraint FK_SPISAK_D_RELATIONS_DIJAGNOZ foreign key (IDDIJAGNOZA)
      references DIJAGNOZA (IDDIJAGNOZA) on delete restrict on update restrict;

alter table SPISAK_DIJAGNOZA add constraint FK_SPISAK_D_RELATIONS_KARTON foreign key (IDKARTON)
      references KARTON (IDKARTON) on delete restrict on update restrict;

alter table TERAPIJA add constraint FK_TERAPIJA_RELATIONS_LEK foreign key (IDLEK)
      references LEK (IDLEK) on delete restrict on update restrict;

alter table TERAPIJA add constraint FK_TERAPIJA_RELATIONS_RADNIK foreign key (IDRADNIK)
      references RADNIK (IDRADNIK) on delete restrict on update restrict;

